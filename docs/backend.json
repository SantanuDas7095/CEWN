{
  "entities": {
    "EmergencyReport": {
      "title": "Emergency Report",
      "description": "A report of an emergency on campus.",
      "type": "object",
      "properties": {
        "studentId": { "type": "string", "description": "The ID of the student making the report." },
        "studentName": { "type": "string", "description": "Name of the student." },
        "enrollmentNumber": { "type": "string", "description": "The student's enrollment number." },
        "year": { "type": "number", "description": "The student's current year of study." },
        "location": { "type": "string", "description": "The location of the emergency." },
        "emergencyType": { "type": "string", "description": "The type of emergency (e.g., Medical, Safety)." },
        "timestamp": { "type": "string", "format": "date-time", "description": "When the report was created." }
      },
      "required": ["studentId", "studentName", "enrollmentNumber", "year", "location", "emergencyType", "timestamp"]
    },
    "HospitalFeedback": {
      "title": "Hospital Feedback",
      "description": "Feedback submitted by a student after a hospital visit.",
      "type": "object",
      "properties": {
        "studentId": { "type": "string", "description": "The ID of the student giving feedback." },
        "waitingTime": { "type": "number", "description": "The time spent waiting, in minutes." },
        "doctorAvailability": { "type": "string", "enum": ["available", "unavailable"] },
        "postVisitFeedback": { "type": "string", "description": "The detailed feedback." },
        "emergencyVsNormal": { "type": "string", "enum": ["emergency", "normal"] },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["studentId", "waitingTime", "doctorAvailability", "postVisitFeedback", "emergencyVsNormal", "timestamp"]
    },
    "MessFoodRating": {
      "title": "Mess Food Rating",
      "description": "A rating of the mess food quality.",
      "type": "object",
      "properties": {
        "studentId": { "type": "string", "description": "The ID of the student giving the rating." },
        "foodQualityRating": { "type": "number", "description": "A rating from 1 to 5." },
        "sickAfterMealReport": { "type": "string", "enum": ["yes", "no"] },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["studentId", "foodQualityRating", "sickAfterMealReport", "timestamp"]
    },
    "Appointment": {
      "title": "Appointment",
      "description": "A scheduled appointment at the campus hospital.",
      "type": "object",
      "properties": {
        "studentId": { "type": "string" },
        "studentName": { "type": "string" },
        "enrollmentNumber": { "type": "string" },
        "appointmentDate": { "type": "string", "format": "date-time" },
        "appointmentTime": { "type": "string" },
        "reason": { "type": "string" },
        "status": { "type": "string", "enum": ["scheduled", "completed", "cancelled"], "default": "scheduled" }
      },
      "required": ["studentId", "studentName", "enrollmentNumber", "appointmentDate", "appointmentTime", "reason", "status"]
    },
    "UserProfile": {
        "title": "User Profile",
        "description": "Extended user profile information.",
        "type": "object",
        "properties": {
            "uid": { "type": "string", "description": "The user's unique ID." },
            "email": { "type": "string", "format": "email", "description": "The user's email address." },
            "displayName": { "type": "string", "description": "The user's display name." },
            "photoURL": { "type": "string", "format": "uri", "description": "URL of the user's profile picture." },
            "enrollmentNumber": { "type": "string", "description": "The student's enrollment number." },
            "hostel": { "type": "string", "description": "The student's hostel name and room number." },
            "department": { "type": "string", "description": "The student's academic department." },
            "year": { "type": "number", "description": "The student's current year of study." },
            "createdAt": { "type": "string", "format": "date-time", "description": "Timestamp of profile creation." },
            "updatedAt": { "type": "string", "format": "date-time", "description": "Timestamp of last profile update." }
        },
        "required": ["uid", "email"]
    },
    "AdminRole": {
        "title": "Admin Role",
        "description": "Defines an administrative user.",
        "type": "object",
        "properties": {}
    }
  },
  "auth": {
    "providers": ["google.com", "password"]
  },
  "firestore": {
    "/emergencyReports/{reportId}": {
      "schema": { "$ref": "#/entities/EmergencyReport" },
      "description": "Collection of all emergency reports."
    },
    "/hospitalFeedbacks/{feedbackId}": {
      "schema": { "$ref": "#/entities/HospitalFeedback" },
      "description": "Collection of all hospital feedback."
    },
    "/messFoodRatings/{ratingId}": {
      "schema": { "$ref": "#/entities/MessFoodRating" },
      "description": "Collection of all mess food ratings."
    },
    "/appointments/{appointmentId}": {
      "schema": { "$ref": "#/entities/Appointment" },
      "description": "Collection of all student appointments."
    },
    "/userProfile/{userId}": {
      "schema": { "$ref": "#/entities/UserProfile" },
      "description": "Stores extended user profile information. The document ID is the user's UID."
    },
    "/roles_admin/{userId}": {
        "schema": { "$ref": "#/entities/AdminRole" },
        "description": "A collection where the document ID is the UID of an admin user."
    }
  }
}
